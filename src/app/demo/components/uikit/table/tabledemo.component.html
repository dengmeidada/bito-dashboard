<div class="grid">
  <div class="col-12">
    <div class="card">
      <h5>外部連結管理</h5>
      <p-dialog
        header="新增/編輯"
        [(visible)]="display"
        [modal]="true"
        showEffect="fade"
        [style]="{ width: '90vw' }"
        [breakpoints]="{ '960px': '75vw' }"
      >
        <div class="grid formgrid">
          <div class="col-12 mb-2 lg:col-4 lg:mb-0">
            <h6>分類</h6>
            <p-dropdown
              [options]="cities"
              [(ngModel)]="selectedDrop"
              placeholder="請選擇分類"
              [showClear]="true"
            ></p-dropdown>
          </div>
          <div class="col-12 mb-2 lg:col-4 lg:mb-0">
            <h6>類型</h6>
            <p-dropdown
              [options]="cities2"
              [(ngModel)]="selectedDrop2"
              placeholder="請選擇類型"
              [showClear]="true"
            ></p-dropdown>
          </div>
        </div>

        <h6>上傳縮圖</h6>
        <p-fileUpload
          name="demo[]"
          [multiple]="false"
          accept="image/*"
          [maxFileSize]="1000000"
          [chooseLabel]="'選擇檔案'"
          [showUploadButton]="false"
          [showCancelButton]="false"
        >
          <ng-template pTemplate="content">
            <ul *ngIf="uploadedFiles.length">
              <li *ngFor="let file of uploadedFiles">
                {{ file.name }} - {{ file.size }} bytes
              </li>
            </ul>
          </ng-template>
        </p-fileUpload>
        <div class="grid formgrid">
          <div class="col-12 mt-4 mb-2">
            <h6>連結</h6>
            <input
              type="text"
              pInputText
              placeholder="請填寫連結"
              style="width: 100%"
            />
          </div>
        </div>
        <h6>簡介</h6>
        <textarea
          rows="5"
          placeholder=""
          pInputTextarea
          class="p-inputtextarea p-inputtext p-component p-element"
          style="width: 100%"
        ></textarea>
        <ng-template pTemplate="footer">
          <button
            pButton
            (click)="display = false"
            label="離開"
            class="p-button-outlined"
          ></button>
          <button pButton (click)="submit()" label="確定送出"></button>
        </ng-template>
      </p-dialog>
      <p-dialog
        header="新增/編輯"
        [(visible)]="display2"
        [modal]="true"
        showEffect="fade"
        [style]="{ width: '90vw' }"
        [breakpoints]="{ '960px': '75vw' }"
      >
        <div class="grid formgrid">
          <div class="col-12 mb-2 lg:col-4 lg:mb-0">
            <h6>分類</h6>
            <p-dropdown
              [options]="cities"
              [(ngModel)]="selectedDrop"
              placeholder="請選擇分類"
              [showClear]="true"
            ></p-dropdown>
          </div>
        </div>
        <div class="grid formgrid">
          <div class="col-12 mt-4 mb-2">
            <h6>名稱</h6>
            <input
              type="text"
              pInputText
              placeholder="請填寫名稱"
              style="width: 100%"
            />
          </div>
        </div>
        <div class="grid formgrid">
          <div class="col-12 mt-4 mb-2">
            <h6>連結</h6>
            <input
              type="text"
              pInputText
              placeholder="請填寫連結"
              style="width: 100%"
            />
          </div>
        </div>
        <ng-template pTemplate="footer">
          <button
            pButton
            (click)="display2 = false"
            label="離開"
            class="p-button-outlined"
          ></button>
          <button pButton (click)="submit()" label="確定送出"></button>
        </ng-template>
      </p-dialog>
      <div class="text-right">
        <button
          (click)="addData()"
          pButton
          icon="pi pi-plus"
          label="新增"
          style="width: auto"
        ></button>
      </div>
      <p-tabView orientation="left" (onChange)="handleChange($event)">
        <p-tabPanel header="影音社群" class="line-height-3 m-0">
          <p-dataView
            #dv
            [value]="list"
            [paginator]="true"
            [rows]="9"
            filterBy="name"
            layout="list"
          >
            <ng-template let-list pTemplate="listItem">
              <div class="col-12">
                <div
                  class="flex flex-column md:flex-row align-items-center p-3 w-full"
                >
                  <img
                    [src]="'assets/demo/images/product/' + list.image"
                    [alt]="list.name"
                    class="my-4 md:my-0 w-9 md:w-10rem shadow-2 mr-5"
                  />
                  <div class="flex-1 text-center md:text-left">
                    <div class="font-bold text-2xl">{{ list.name }}</div>
                    <!-- <div class="mb-3">{{ list.description }}</div> -->
                  </div>
                  <div
                    class="flex flex-row justify-content-between w-full md:w-auto align-items-center md:align-items-end mt-5 md:mt-0"
                  >
                    <button
                      type="text"
                      (click)="confirm1()"
                      pButton
                      icon="pi pi-trash"
                      label="刪除"
                      class="p-button-danger"
                      style="width: auto; margin-right: 0.5rem"
                    ></button>
                    <button
                      type="text"
                      (click)="display = true"
                      pButton
                      icon="pi pi-pencil"
                      label="編輯"
                      style="width: auto"
                    ></button>
                  </div>
                </div>
              </div>
            </ng-template>
          </p-dataView>
        </p-tabPanel>
        <p-tabPanel header="數位理財" class="line-height-3 m-0">
          <p-table
            [value]="externalList"
            [paginator]="true"
            [rows]="5"
            responsiveLayout="scroll"
          >
            <ng-template pTemplate="header">
              <tr>
                <!-- <th>Image</th> -->
                <th pColumn="name">名稱</th>
                <th>操作</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
              <tr>
                <td style="width: 70%; min-width: 7rem">{{ product.name }}</td>
                <td style="width: 30%">
                  <div
                    class="flex flex-row justify-content-between w-full md:w-auto align-items-center md:align-items-end mt-5 md:mt-0"
                  >
                    <button
                      type="text"
                      (click)="confirm1()"
                      pButton
                      icon="pi pi-trash"
                      label="刪除"
                      class="p-button-danger"
                      style="width: auto; margin-right: 0.5rem"
                    ></button>
                    <button
                      type="text"
                      (click)="display2 = true"
                      pButton
                      icon="pi pi-pencil"
                      label="編輯"
                      style="width: auto"
                    ></button>
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-tabPanel>
      </p-tabView>
    </div>
  </div>
</div>
